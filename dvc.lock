schema: '2.0'
stages:
  NH2OTrajectory:
    cmd: zntrack run humf_experiments.nodes.n_h2o_trajectory.NH2OTrajectory --name
      NH2OTrajectory
    deps:
    - path: data/h2o_trajectory
      hash: md5
      md5: 5d2e9a1c120106778f1e85836ea44244.dir
      size: 15928343
      nfiles: 8
    params:
      params.yaml:
        NH2OTrajectory:
          concatenate: 1
          num_molecules: 3
    outs:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
  CreateGromacsDataset:
    cmd: zntrack run humf_experiments.nodes.create_gromacs_dataset.CreateGromacsDataset
      --name CreateGromacsDataset
    deps:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
    outs:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
  ConvertTrajectoryToOrcaInputs:
    cmd: zntrack run 
      humf_experiments.nodes.convert_trajectory_to_orca_inputs.ConvertTrajectoryToOrcaInputs
      --name ConvertTrajectoryToOrcaInputs
    deps:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
    params:
      params.yaml:
        ConvertTrajectoryToOrcaInputs:
          charge: '0'
          every_nth_frame: 10
          method_and_basisset: B3LYP def2-TZVP D3BJ
          multiplicity: '1'
          pal: '1'
          run_orca: true
    outs:
    - path: nodes/ConvertTrajectoryToOrcaInputs/frames
      hash: md5
      md5: c4df08a176ab38793921e2c14c8f992a.dir
      size: 102773415
      nfiles: 736
    - path: nodes/ConvertTrajectoryToOrcaInputs/node-meta.json
      hash: md5
      md5: d7d9f7f14ed939318d375a2eb0ef2475
      size: 64
  CreateOrcaDataset:
    cmd: zntrack run humf_experiments.nodes.create_orca_dataset.CreateOrcaDataset
      --name CreateOrcaDataset
    deps:
    - path: nodes/ConvertTrajectoryToOrcaInputs/frames
      hash: md5
      md5: c4df08a176ab38793921e2c14c8f992a.dir
      size: 102773415
      nfiles: 736
    - path: nodes/ConvertTrajectoryToOrcaInputs/node-meta.json
      hash: md5
      md5: d7d9f7f14ed939318d375a2eb0ef2475
      size: 64
    outs:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
  fit_ljc_water_to_gromacs:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_ljc_water_to_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    params:
      params.yaml:
        fit_ljc_water_to_gromacs:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: ljc_water
          seed: 42
          trade_off: 1
    outs:
    - path: nodes/fit_ljc_water_to_gromacs/dvclive
      hash: md5
      md5: f0bac8d04efbeb88e97c6deb8a693a72.dir
      size: 146325
      nfiles: 6
    - path: nodes/fit_ljc_water_to_gromacs/models
      hash: md5
      md5: dbebab65771db7b6532a832db88dc5a2.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_gromacs/node-meta.json
      hash: md5
      md5: 11ea572d801f97e9e5b1a1c2bc772572
      size: 64
  evaluate_ljc_water_on_gromacs:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_ljc_water_on_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    - path: nodes/fit_ljc_water_to_gromacs/dvclive
      hash: md5
      md5: f0bac8d04efbeb88e97c6deb8a693a72.dir
      size: 146325
      nfiles: 6
    - path: nodes/fit_ljc_water_to_gromacs/models
      hash: md5
      md5: dbebab65771db7b6532a832db88dc5a2.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_gromacs/node-meta.json
      hash: md5
      md5: 11ea572d801f97e9e5b1a1c2bc772572
      size: 64
    params:
      params.yaml:
        evaluate_ljc_water_on_gromacs:
          model: ljc_water
    outs:
    - path: nodes/evaluate_ljc_water_on_gromacs/dvclive
      hash: md5
      md5: a84f68eaf1bebb0e2dbf7a01a526a147.dir
      size: 180541
      nfiles: 7
    - path: nodes/evaluate_ljc_water_on_gromacs/node-meta.json
      hash: md5
      md5: 9e562576dd0f90c727b9d4d1c2c9fdfb
      size: 64
    - path: nodes/evaluate_ljc_water_on_gromacs/results
      hash: md5
      md5: 40f683dfe30b0a86a1206e2dc4819cba.dir
      size: 27777758
      nfiles: 15
  fit_ljc_water_to_orca:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_ljc_water_to_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    params:
      params.yaml:
        fit_ljc_water_to_orca:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: ljc_water
          seed: 42
          trade_off: 1
    outs:
    - path: nodes/fit_ljc_water_to_orca/dvclive
      hash: md5
      md5: 97ebb7a392b97506cb1f0b8688e12955.dir
      size: 75841
      nfiles: 6
    - path: nodes/fit_ljc_water_to_orca/models
      hash: md5
      md5: c6692daed0edc3e27b910478db417acb.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_orca/node-meta.json
      hash: md5
      md5: 560c203ac825f3fa12ce673f5aa197b5
      size: 64
  evaluate_ljc_water_on_orca:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_ljc_water_on_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    - path: nodes/fit_ljc_water_to_orca/dvclive
      hash: md5
      md5: 97ebb7a392b97506cb1f0b8688e12955.dir
      size: 75841
      nfiles: 6
    - path: nodes/fit_ljc_water_to_orca/models
      hash: md5
      md5: c6692daed0edc3e27b910478db417acb.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_orca/node-meta.json
      hash: md5
      md5: 560c203ac825f3fa12ce673f5aa197b5
      size: 64
    params:
      params.yaml:
        evaluate_ljc_water_on_orca:
          model: ljc_water
    outs:
    - path: nodes/evaluate_ljc_water_on_orca/dvclive
      hash: md5
      md5: ce3ebc6cc1130fe4aead821017bd48ae.dir
      size: 216568
      nfiles: 7
    - path: nodes/evaluate_ljc_water_on_orca/node-meta.json
      hash: md5
      md5: dde1a41fa874ff52906b3a7522aeecd9
      size: 64
    - path: nodes/evaluate_ljc_water_on_orca/results
      hash: md5
      md5: d38a56822db24a746d8553052f2e0b19.dir
      size: 27456137
      nfiles: 15
  fit_polynomial_water_to_gromacs:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_polynomial_water_to_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    params:
      params.yaml:
        fit_polynomial_water_to_gromacs:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: polynomial_water
          seed: 42
          trade_off: 1
    outs:
    - path: nodes/fit_polynomial_water_to_gromacs/dvclive
      hash: md5
      md5: a1f0357606d7d034ec9fc612de649322.dir
      size: 136586
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_gromacs/models
      hash: md5
      md5: 7d4fd12c921813a4e08aed89fb08c2c0.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_gromacs/node-meta.json
      hash: md5
      md5: 3f9f539cfad916aae9eb8989021afbc3
      size: 64
  evaluate_polynomial_water_on_gromacs:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_polynomial_water_on_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    - path: nodes/fit_polynomial_water_to_gromacs/dvclive
      hash: md5
      md5: a1f0357606d7d034ec9fc612de649322.dir
      size: 136586
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_gromacs/models
      hash: md5
      md5: 7d4fd12c921813a4e08aed89fb08c2c0.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_gromacs/node-meta.json
      hash: md5
      md5: 3f9f539cfad916aae9eb8989021afbc3
      size: 64
    params:
      params.yaml:
        evaluate_polynomial_water_on_gromacs:
          model: polynomial_water
    outs:
    - path: nodes/evaluate_polynomial_water_on_gromacs/dvclive
      hash: md5
      md5: 6e3ee45e5682719cb1f1d36b3267b20d.dir
      size: 161715
      nfiles: 7
    - path: nodes/evaluate_polynomial_water_on_gromacs/node-meta.json
      hash: md5
      md5: 9979b5fa39f7837126caabf69dcb932c
      size: 64
    - path: nodes/evaluate_polynomial_water_on_gromacs/results
      hash: md5
      md5: c84bd06af0b3f86ec7b0d0a96e8789a3.dir
      size: 27657853
      nfiles: 15
  fit_polynomial_water_to_orca:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_polynomial_water_to_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    params:
      params.yaml:
        fit_polynomial_water_to_orca:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: polynomial_water
          seed: 42
          trade_off: 1
    outs:
    - path: nodes/fit_polynomial_water_to_orca/dvclive
      hash: md5
      md5: 0ea545544f7f350d215cf18c3c46dddf.dir
      size: 74973
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_orca/models
      hash: md5
      md5: e52fa21a4ec938c622b41b1ca8132826.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_orca/node-meta.json
      hash: md5
      md5: e812ca683a01681d004e97c77fb81582
      size: 64
  evaluate_polynomial_water_on_orca:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_polynomial_water_on_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    - path: nodes/fit_polynomial_water_to_orca/dvclive
      hash: md5
      md5: 0ea545544f7f350d215cf18c3c46dddf.dir
      size: 74973
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_orca/models
      hash: md5
      md5: e52fa21a4ec938c622b41b1ca8132826.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_orca/node-meta.json
      hash: md5
      md5: e812ca683a01681d004e97c77fb81582
      size: 64
    params:
      params.yaml:
        evaluate_polynomial_water_on_orca:
          model: polynomial_water
    outs:
    - path: nodes/evaluate_polynomial_water_on_orca/dvclive
      hash: md5
      md5: 11d52b2b481674d0bb34ee9685da6381.dir
      size: 162639
      nfiles: 7
    - path: nodes/evaluate_polynomial_water_on_orca/node-meta.json
      hash: md5
      md5: bebe6eeeab1b7225ea3f9ab11900f14f
      size: 64
    - path: nodes/evaluate_polynomial_water_on_orca/results
      hash: md5
      md5: 1f2f6459bb19362f64dbbc499febc2a9.dir
      size: 27393824
      nfiles: 15
