schema: '2.0'
stages:
  NH2OTrajectory:
    cmd: zntrack run humf_experiments.nodes.n_h2o_trajectory.NH2OTrajectory --name
      NH2OTrajectory
    deps:
    - path: data/h2o_trajectory
      hash: md5
      md5: 5d2e9a1c120106778f1e85836ea44244.dir
      size: 15928343
      nfiles: 8
    params:
      params.yaml:
        NH2OTrajectory:
          concatenate: 1
          num_molecules: 3
    outs:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
  CreateGromacsDataset:
    cmd: zntrack run humf_experiments.nodes.create_gromacs_dataset.CreateGromacsDataset
      --name CreateGromacsDataset
    deps:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
    outs:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
  ConvertTrajectoryToOrcaInputs:
    cmd: zntrack run 
      humf_experiments.nodes.convert_trajectory_to_orca_inputs.ConvertTrajectoryToOrcaInputs
      --name ConvertTrajectoryToOrcaInputs
    deps:
    - path: nodes/NH2OTrajectory/dumped_forces.txt
      hash: md5
      md5: b80bef38e5f478188bd7f7c5722e51dc
      size: 181994
    - path: nodes/NH2OTrajectory/energy.xvg
      hash: md5
      md5: 1550c4445077a3ff6f62c8d5d2cc1d92
      size: 6195
    - path: nodes/NH2OTrajectory/node-meta.json
      hash: md5
      md5: ae82cf634c23fe428980dec32fd15316
      size: 64
    - path: nodes/NH2OTrajectory/reduced.gro
      hash: md5
      md5: e27ca38ffbdf4d182b5c307375a719eb
      size: 104554
    params:
      params.yaml:
        ConvertTrajectoryToOrcaInputs:
          charge: '0'
          every_nth_frame: 10
          method_and_basisset: B3LYP def2-TZVP D3BJ
          multiplicity: '1'
          pal: '1'
          run_orca: true
    outs:
    - path: nodes/ConvertTrajectoryToOrcaInputs/frames
      hash: md5
      md5: c4df08a176ab38793921e2c14c8f992a.dir
      size: 102773415
      nfiles: 736
    - path: nodes/ConvertTrajectoryToOrcaInputs/node-meta.json
      hash: md5
      md5: d7d9f7f14ed939318d375a2eb0ef2475
      size: 64
  CreateOrcaDataset:
    cmd: zntrack run humf_experiments.nodes.create_orca_dataset.CreateOrcaDataset
      --name CreateOrcaDataset
    deps:
    - path: nodes/ConvertTrajectoryToOrcaInputs/frames
      hash: md5
      md5: c4df08a176ab38793921e2c14c8f992a.dir
      size: 102773415
      nfiles: 736
    - path: nodes/ConvertTrajectoryToOrcaInputs/node-meta.json
      hash: md5
      md5: d7d9f7f14ed939318d375a2eb0ef2475
      size: 64
    outs:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
  fit_ljc_water_to_gromacs:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_ljc_water_to_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    params:
      params.yaml:
        fit_ljc_water_to_gromacs:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: ljc_water
          seed: 42
          trade_off: 0.1
    outs:
    - path: nodes/fit_ljc_water_to_gromacs/dvclive
      hash: md5
      md5: d6208f532d145d10cb0fbe154719ad4d.dir
      size: 568420
      nfiles: 6
    - path: nodes/fit_ljc_water_to_gromacs/models
      hash: md5
      md5: 8ccb95a525006720be0ae4ac6309b1f0.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_gromacs/node-meta.json
      hash: md5
      md5: 359b2c11d5793ba9d92473c19a0b18c0
      size: 64
  evaluate_ljc_water_on_gromacs:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_ljc_water_on_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    - path: nodes/fit_ljc_water_to_gromacs/dvclive
      hash: md5
      md5: d6208f532d145d10cb0fbe154719ad4d.dir
      size: 568420
      nfiles: 6
    - path: nodes/fit_ljc_water_to_gromacs/models
      hash: md5
      md5: 8ccb95a525006720be0ae4ac6309b1f0.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_gromacs/node-meta.json
      hash: md5
      md5: 359b2c11d5793ba9d92473c19a0b18c0
      size: 64
    params:
      params.yaml:
        evaluate_ljc_water_on_gromacs:
          model: ljc_water
    outs:
    - path: nodes/evaluate_ljc_water_on_gromacs/dvclive
      hash: md5
      md5: 409d6da265dd3654eff11bb33f0cd93a.dir
      size: 179306
      nfiles: 7
    - path: nodes/evaluate_ljc_water_on_gromacs/node-meta.json
      hash: md5
      md5: 09df7fbf61944bc8b3134621262f522f
      size: 64
    - path: nodes/evaluate_ljc_water_on_gromacs/results
      hash: md5
      md5: 61b84374ace9b8c48dd180279366e11b.dir
      size: 27776731
      nfiles: 15
  fit_ljc_water_to_orca:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_ljc_water_to_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    params:
      params.yaml:
        fit_ljc_water_to_orca:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: ljc_water
          seed: 42
          trade_off: 0.1
    outs:
    - path: nodes/fit_ljc_water_to_orca/dvclive
      hash: md5
      md5: 0795ace15cc99dba5fabc55cc96b795d.dir
      size: 74323
      nfiles: 6
    - path: nodes/fit_ljc_water_to_orca/models
      hash: md5
      md5: 75ae19fb0dc6fef8c8ccdadee9b4b53a.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_orca/node-meta.json
      hash: md5
      md5: d1b535b4e68fe06c2ff73acc3d714813
      size: 64
  evaluate_ljc_water_on_orca:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_ljc_water_on_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    - path: nodes/fit_ljc_water_to_orca/dvclive
      hash: md5
      md5: 0795ace15cc99dba5fabc55cc96b795d.dir
      size: 74323
      nfiles: 6
    - path: nodes/fit_ljc_water_to_orca/models
      hash: md5
      md5: 75ae19fb0dc6fef8c8ccdadee9b4b53a.dir
      size: 24681
      nfiles: 3
    - path: nodes/fit_ljc_water_to_orca/node-meta.json
      hash: md5
      md5: d1b535b4e68fe06c2ff73acc3d714813
      size: 64
    params:
      params.yaml:
        evaluate_ljc_water_on_orca:
          model: ljc_water
    outs:
    - path: nodes/evaluate_ljc_water_on_orca/dvclive
      hash: md5
      md5: 1bf3bf8990e6a4339be73b229f08577f.dir
      size: 219289
      nfiles: 7
    - path: nodes/evaluate_ljc_water_on_orca/node-meta.json
      hash: md5
      md5: 8703c22cb450c76f8e78bd004479de2b
      size: 64
    - path: nodes/evaluate_ljc_water_on_orca/results
      hash: md5
      md5: e8ade4919d8d281e3c3779cbcddcac88.dir
      size: 27456692
      nfiles: 15
  fit_polynomial_water_to_gromacs:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_polynomial_water_to_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    params:
      params.yaml:
        fit_polynomial_water_to_gromacs:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: polynomial_water
          seed: 42
          trade_off: 0.1
    outs:
    - path: nodes/fit_polynomial_water_to_gromacs/dvclive
      hash: md5
      md5: dc8222fec862e1ae30a5f295d9c2a6bc.dir
      size: 546044
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_gromacs/models
      hash: md5
      md5: e7d437e8b3364dad8ffafeab759e645b.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_gromacs/node-meta.json
      hash: md5
      md5: e4f631200bee35a13ca74be9a0becafd
      size: 64
  evaluate_polynomial_water_on_gromacs:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_polynomial_water_on_gromacs
    deps:
    - path: nodes/CreateGromacsDataset/data
      hash: md5
      md5: d37636d921478c659f71e0fd2a1d5da8.dir
      size: 250725
      nfiles: 1
    - path: nodes/CreateGromacsDataset/node-meta.json
      hash: md5
      md5: 7ee72341b378b7defdb2cda129d52056
      size: 64
    - path: nodes/fit_polynomial_water_to_gromacs/dvclive
      hash: md5
      md5: dc8222fec862e1ae30a5f295d9c2a6bc.dir
      size: 546044
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_gromacs/models
      hash: md5
      md5: e7d437e8b3364dad8ffafeab759e645b.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_gromacs/node-meta.json
      hash: md5
      md5: e4f631200bee35a13ca74be9a0becafd
      size: 64
    params:
      params.yaml:
        evaluate_polynomial_water_on_gromacs:
          model: polynomial_water
    outs:
    - path: nodes/evaluate_polynomial_water_on_gromacs/dvclive
      hash: md5
      md5: a13339203702f1de1281056cc39eb059.dir
      size: 162357
      nfiles: 7
    - path: nodes/evaluate_polynomial_water_on_gromacs/node-meta.json
      hash: md5
      md5: 72067d1efcb6f0f5e15b8d92c1e027a9
      size: 64
    - path: nodes/evaluate_polynomial_water_on_gromacs/results
      hash: md5
      md5: 3d7dde146592e6f14de21fafeca851ea.dir
      size: 27658718
      nfiles: 15
  fit_polynomial_water_to_orca:
    cmd: zntrack run humf_experiments.nodes.train_model.TrainModel --name fit_polynomial_water_to_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    params:
      params.yaml:
        fit_polynomial_water_to_orca:
          batch_size: 32
          learning_rate: 0.1
          max_epochs: 1000
          model: polynomial_water
          seed: 42
          trade_off: 0.1
    outs:
    - path: nodes/fit_polynomial_water_to_orca/dvclive
      hash: md5
      md5: f64540ffa0970c249fb9c1900e39111b.dir
      size: 74129
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_orca/models
      hash: md5
      md5: 431b1bbb73afdba18ce41cf0fce83fac.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_orca/node-meta.json
      hash: md5
      md5: 29a954d5e2f8971fa5f9fb207ebcd6f3
      size: 64
  evaluate_polynomial_water_on_orca:
    cmd: zntrack run humf_experiments.nodes.evaluate_models.EvaluateModels --name
      evaluate_polynomial_water_on_orca
    deps:
    - path: nodes/CreateOrcaDataset/data
      hash: md5
      md5: 433374a7cf4cff9dd2899cd24ea00a1d.dir
      size: 40197
      nfiles: 1
    - path: nodes/CreateOrcaDataset/node-meta.json
      hash: md5
      md5: bf169f313ff8051093c1c24bb3fdd227
      size: 64
    - path: nodes/fit_polynomial_water_to_orca/dvclive
      hash: md5
      md5: f64540ffa0970c249fb9c1900e39111b.dir
      size: 74129
      nfiles: 6
    - path: nodes/fit_polynomial_water_to_orca/models
      hash: md5
      md5: 431b1bbb73afdba18ce41cf0fce83fac.dir
      size: 21837
      nfiles: 3
    - path: nodes/fit_polynomial_water_to_orca/node-meta.json
      hash: md5
      md5: 29a954d5e2f8971fa5f9fb207ebcd6f3
      size: 64
    params:
      params.yaml:
        evaluate_polynomial_water_on_orca:
          model: polynomial_water
    outs:
    - path: nodes/evaluate_polynomial_water_on_orca/dvclive
      hash: md5
      md5: 5143d63780bb21de01bb39a796d3c722.dir
      size: 162606
      nfiles: 7
    - path: nodes/evaluate_polynomial_water_on_orca/node-meta.json
      hash: md5
      md5: 972e7e7764a9470dda8f6d9a49478d2d
      size: 64
    - path: nodes/evaluate_polynomial_water_on_orca/results
      hash: md5
      md5: 1cde6afbc6ea467a18b704112f3b3048.dir
      size: 27393881
      nfiles: 15
